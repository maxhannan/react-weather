{"version":3,"sources":["Components/getWeather.js","Components/Forecast.js","Components/Header.js","Components/App.js","index.js"],"names":["getWeather","search","a","apiKey","baseUrl","getName","nameData","coords","geometry","location","name","formatted_address","oneCallURL","lat","lng","fetch","mode","response","json","data","weatherFormatter","url","results","info","placeName","current","sevenDayForecast","daily","map","day","weekDay","getDay","dt","highC","toCelsius","temp","max","lowC","min","highF","toFahrenheit","lowF","descrip","weather","description","iconSrc","getIconURL","icon","time","timeStr","toLocaleTimeString","tempC","tempF","wind","wind_speed","windDir","wind_deg","sunrise","humidity","sevenDay","K","Math","floor","date","Date","iconId","large","Forecast","isCelsius","id","className","split","toLocaleString","Header","wSearch","togCelsius","useState","searchVal","setSearchVal","onClick","onSubmit","e","preventDefault","type","value","onChange","target","App","setData","pending","setPending","error","setError","setisCelsius","wdata","message","useEffect","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"kOACaA,EAAU,uCAAG,WAAOC,GAAP,6BAAAC,EAAA,6DAElBC,EAAS,mCACTC,EAAU,uDAHQ,SAIDC,EAAQJ,GAJP,cAIlBK,EAJkB,OAMlBC,EAASD,EAASE,SAASC,SAC3BC,EAAOJ,EAASK,kBAEhBC,EATkB,UASFR,GATE,OASQG,EAAOM,IATf,gBAS0BN,EAAOO,IATjC,kBAS8CX,GAT9C,UAWDY,MAAMH,EAAY,CAAEI,KAAM,SAXzB,eAWlBC,EAXkB,iBAYLA,EAASC,OAZJ,eAYlBC,EAZkB,yBAcjBC,EAAiBD,EAAMT,IAdN,4CAAH,sDAiBjBL,EAAO,uCAAG,WAAOJ,GAAP,mBAAAC,EAAA,4DAEC,0CACC,6DACVmB,EAJQ,UAGE,8DAHF,OAIUpB,EAJV,gBAEC,2CAFD,SAMSc,MAAMM,EAAK,CAAEL,KAAM,SAN5B,cAMRC,EANQ,gBAOKA,EAASC,OAPd,cAORC,EAPQ,yBASNA,EAAKG,QAAQ,IATP,4CAAH,sDAYPF,EAAmB,SAACG,EAAMC,GAC9B,IAAMC,EAAUF,EAAKE,QAEfC,EAAmBH,EAAKI,MAAMC,KAAI,SAAAC,GAUtC,MATgB,CACdA,IAAKC,EAAQC,EAAOF,EAAIG,IAAID,UAC5BE,MAAOC,EAAUL,EAAIM,KAAKC,KAC1BC,KAAMH,EAAUL,EAAIM,KAAKG,KACzBC,MAAOC,EAAaX,EAAIM,KAAKC,KAC7BK,KAAMD,EAAaX,EAAIM,KAAKG,KAC5BI,QAASb,EAAIc,QAAQ,GAAGC,YACxBC,QAASC,EAAWjB,EAAIc,QAAQ,GAAGI,MAAM,OAsB7C,MAjBoB,CAClBpB,MAAO,CACLlB,SAAUe,EACVwB,KAAMjB,EAAON,EAAQO,IACrBiB,QAASlB,EAAON,EAAQO,IAAIkB,qBAC5BrB,IAAKC,EAAQC,EAAON,EAAQO,IAAID,UAChCoB,MAAOjB,EAAUT,EAAQU,MACzBiB,MAAOZ,EAAaf,EAAQU,MAC5BkB,KAAM5B,EAAQ6B,WACdC,QAAS9B,EAAQ+B,SACjBC,QAAS1B,EAAON,EAAQgC,SAASP,qBACjCQ,SAAUjC,EAAQiC,SAClBhB,QAASjB,EAAQkB,QAAQ,GAAGC,YAC5BC,QAASC,EAAWrB,EAAQkB,QAAQ,GAAGI,OAEzCY,SAAS,YAAKjC,KAMZI,EAAU,CAAC,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,OACrDI,EAAY,SAAC0B,GAAD,OAAOC,KAAKC,MAAMF,EAAI,SAClCpB,EAAe,SAACoB,GAAD,OAAOC,KAAKC,MAAM,IAAA5B,EAAU0B,GAAe,KAC1D7B,EAAS,SAACgC,GAAD,OAAU,IAAIC,KAAY,IAAPD,IAE5BjB,EAAa,SAACmB,GAA0B,IAAlBC,IAAiB,yDAO3C,MAJK,2CAAuCD,EADxCC,EACC,UAEA,Y,OC3DQC,EAjBE,SAAC,GAAuB,IAAtBhD,EAAqB,EAArBA,KAAqB,EAAfiD,UAEvB,OACA,sBAAKC,GAAK,WAAV,UACE,sBAAKC,UAAU,cAAf,UACE,6BAAKnD,EAAKQ,MAAMlB,SAAS8D,MAAM,KAAK,KACpC,6BAAKpD,EAAKQ,MAAMe,UAChB,6BAAKvB,EAAKQ,MAAMqB,KAAKwB,sBAEvB,sBAAKF,UAAU,gBAAf,UACE,+BAAKnD,EAAKQ,MAAMyB,MAAhB,UACA,+BAAKjC,EAAKwC,SAAS,GAAGlB,KAAtB,UAAgCtB,EAAKwC,SAAS,GAAGpB,MAAjD,iBCeSkC,EAzBA,SAAC,GAA2B,IAA1BC,EAAyB,EAAzBA,QAASC,EAAgB,EAAhBA,WAAgB,EACNC,mBAAS,IADH,mBACjCC,EADiC,KACtBC,EADsB,KAWxC,OACE,mCACE,wBAAQC,QAAUJ,EAAlB,sBACA,uBAAMK,SAXW,SAACC,GACpBA,EAAEC,iBACe,KAAdL,IACDH,EAAQG,GACRC,EAAa,MAOb,UACE,uBACAK,KAAK,OACLC,MAASP,EACTQ,SAAY,SAACJ,GAAD,OAAOH,EAAaG,EAAEK,OAAOF,UACzC,uBAAOD,KAAK,SAASC,MAAQ,kBC4BtBG,MA3Cf,WAAgB,IAAD,EACWX,mBAAS,MADpB,mBACNzD,EADM,KACAqE,EADA,OAEiBZ,oBAAS,GAF1B,mBAENa,EAFM,KAEGC,EAFH,OAGad,mBAAS,MAHtB,mBAGNe,EAHM,KAGCC,EAHD,OAIqBhB,oBAAS,GAJ9B,mBAINR,EAJM,KAIKyB,EAJL,KAUPlD,EAAO,uCAAG,WAAO1C,GAAP,eAAAC,EAAA,6DACdwF,GAAW,GACXE,EAAS,MAFK,kBAKE5F,EAAWC,GALb,OAKZ6F,EALY,8DAOZF,EAAS,KAAMG,SACfL,GAAW,GARC,uCAWdF,EAXc,UAWCM,EAXD,mCAadJ,GAAW,GAbG,yDAAH,sDAoBb,OAJAM,qBAAU,WACRrD,EAAQ,iBACR,IAGA,sBAAK2B,UAAU,MAAf,UACE,cAAC,EAAD,CAAQI,QAAW/B,EAASgC,WA1Bb,WACjBkB,GAAczB,MA0BZ,iCACGuB,GAAS,0DAA6BA,KACtCF,GAAW,6CACVA,IAAYE,GAAS,cAAC,EAAD,CAAUxE,KAAQA,EAAMiD,UAAaA,WCrCpE6B,IAASC,OACP,cAAC,IAAMC,WAAP,UACE,cAAC,EAAD,MAEFC,SAASC,eAAe,W","file":"static/js/main.3d06f20b.chunk.js","sourcesContent":["// Grabs Weather Data and return formatted info\nexport const getWeather = async (search) => {\n  // openWeather Key\n  const apiKey = '070d5b93cd86e7baa71b2a5bf2276467'\n  const baseUrl = 'https://api.openweathermap.org/data/2.5/onecall?lat='\n  const nameData = await getName(search)\n  \n  const coords = nameData.geometry.location\n  const name = nameData.formatted_address\n\n  const oneCallURL = `${baseUrl}${coords.lat}&lon=${coords.lng}&appid=${apiKey}`\n  \n  const response = await fetch(oneCallURL, { mode: 'cors' })\n  const data = await response.json()\n\n  return weatherFormatter(data, name)\n}\n\nconst getName = async (search) => {\n  // Google Key\n  const apiKey = 'AIzaSyAzvI9cu1Zk8OegSCLn8Yv0BTagQSWDMFQ'\n  const baseurl = 'https://maps.googleapis.com/maps/api/geocode/json?address='\n  const url =`${baseurl}${search}&key=${apiKey}`\n  \n  const response = await fetch(url, { mode: 'cors' })\n  const data = await response.json()\n\n  return (data.results[0])\n}\n\nconst weatherFormatter = (info, placeName) => {\n  const current = info.current\n\n  const sevenDayForecast = info.daily.map(day => {\n    const dayinfo = {\n      day: weekDay[getDay(day.dt).getDay()],\n      highC: toCelsius(day.temp.max),\n      lowC: toCelsius(day.temp.min),\n      highF: toFahrenheit(day.temp.max),\n      lowF: toFahrenheit(day.temp.min),\n      descrip: day.weather[0].description,\n      iconSrc: getIconURL(day.weather[0].icon, false)\n    }\n    return dayinfo\n  })\n\n  const weatherData = {\n    daily: {\n      location: placeName,\n      time: getDay(current.dt),\n      timeStr: getDay(current.dt).toLocaleTimeString(),\n      day: weekDay[getDay(current.dt).getDay()],\n      tempC: toCelsius(current.temp),\n      tempF: toFahrenheit(current.temp),\n      wind: current.wind_speed,\n      windDir: current.wind_deg,\n      sunrise: getDay(current.sunrise).toLocaleTimeString(),\n      humidity: current.humidity,\n      descrip: current.weather[0].description,\n      iconSrc: getIconURL(current.weather[0].icon)\n    },\n    sevenDay: [...sevenDayForecast]\n  }\n  return weatherData\n}\n\n// HELPER FUNCTIONS\nconst weekDay = ['Sun', 'Mon', 'Tue', 'Wed', 'Thu', 'Fri', 'Sat']\nconst toCelsius = (K) => Math.floor(K - 273.15)\nconst toFahrenheit = (K) => Math.floor(toCelsius(K) * (9 / 5) + 32)\nconst getDay = (date) => new Date(date * 1000) // converts unix timestamp to date\n\nconst getIconURL = (iconId, large = true) => { // retrieves appropiate icon url based on weather code from api\n  let url\n  if (large) {\n    url = `http://openweathermap.org/img/wn/${iconId}@4x.png`\n  } else {\n    url = `http://openweathermap.org/img/wn/${iconId}@2x.png`\n  }\n  return url\n}","\nconst Forecast = ({data, isCelsius}) => {\n\n  return ( \n  <div id = 'forecast'>\n    <div className=\"weatherInfo\">\n      <h1>{data.daily.location.split(',')[0]}</h1>\n      <h2>{data.daily.descrip}</h2>\n      <h2>{data.daily.time.toLocaleString()}</h2>\n    </div>\n    <div className=\"todayForecast\">\n      <h1>{data.daily.tempF}°</h1>\n      <h2>{data.sevenDay[0].lowF}° / {data.sevenDay[0].highF}°</h2>\n    </div>\n  </div>\n  );\n}\n \nexport default Forecast;","import React, { useState } from 'react';\n\nconst Header = ({wSearch, togCelsius}) => {\n  const [searchVal, setSearchVal] = useState('')\n  \n  const handleSubmit = (e) => {\n    e.preventDefault()\n    if(searchVal !== ''){\n      wSearch(searchVal)\n      setSearchVal('')\n    }\n  }\n\n  return ( \n    <header>\n      <button onClick ={togCelsius}>Celsius?</button>\n      <form onSubmit = { handleSubmit }>\n        <input \n        type=\"text\"\n        value = {searchVal}\n        onChange = {(e) => setSearchVal(e.target.value) }/>\n        <input type=\"submit\" value = 'search' />\n      </form>\n    </header>\n  );\n}\n \nexport default Header;","import { useEffect, useState } from 'react';\nimport { getWeather } from './getWeather'\n\nimport Forecast from \"./Forecast\";\nimport Header from \"./Header\";\n\nfunction App() {\n  const [data, setData] = useState(null)\n  const [pending, setPending] = useState(true)\n  const [error, setError] = useState(null)\n  const [isCelsius, setisCelsius] = useState(false)\n\n  const togCelsius = () => {\n    setisCelsius(!isCelsius)\n  }\n  \n  const weather = async (search) => {\n    setPending(true)\n    setError(null)\n    let wdata\n    try {\n      wdata = await getWeather(search)\n    } catch (error) {\n      setError(error.message)\n      setPending(false)\n      return\n    }\n    setData( await wdata)\n\n    setPending(false)\n  }\n\n  useEffect(()=>{\n    weather('Minneapolis')\n  },[])\n\n  return (\n    <div className=\"App\">\n      <Header wSearch = {weather} togCelsius = {togCelsius}/>\n      <main>\n        {error && <h4>Sorry... No data found, {error}</h4>}\n        {pending && <h2>Loading...</h2>}\n        {!pending && !error && <Forecast data = {data} isCelsius = {isCelsius}/>}\n      </main>\n      \n    </div>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './Styles/index.sass';\nimport App from './Components/App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}