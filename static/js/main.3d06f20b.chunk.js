(this["webpackJsonpreact-weather"]=this["webpackJsonpreact-weather"]||[]).push([[0],{14:function(e,t,n){},17:function(e,t,n){"use strict";n.r(t);var r=n(1),a=n.n(r),c=n(8),s=n.n(c),i=(n(14),n(2)),o=n.n(i),u=n(4),d=n(3),p=n(9),l=function(){var e=Object(u.a)(o.a.mark((function e(t){var n,r,a,c,s,i,u,d;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n="070d5b93cd86e7baa71b2a5bf2276467",r="https://api.openweathermap.org/data/2.5/onecall?lat=",e.next=4,h(t);case 4:return a=e.sent,c=a.geometry.location,s=a.formatted_address,i="".concat(r).concat(c.lat,"&lon=").concat(c.lng,"&appid=").concat(n),e.next=10,fetch(i,{mode:"cors"});case 10:return u=e.sent,e.next=13,u.json();case 13:return d=e.sent,e.abrupt("return",j(d,s));case 15:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),h=function(){var e=Object(u.a)(o.a.mark((function e(t){var n,r,a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"AIzaSyAzvI9cu1Zk8OegSCLn8Yv0BTagQSWDMFQ","https://maps.googleapis.com/maps/api/geocode/json?address=",n="".concat("https://maps.googleapis.com/maps/api/geocode/json?address=").concat(t,"&key=").concat("AIzaSyAzvI9cu1Zk8OegSCLn8Yv0BTagQSWDMFQ"),e.next=5,fetch(n,{mode:"cors"});case 5:return r=e.sent,e.next=8,r.json();case 8:return a=e.sent,e.abrupt("return",a.results[0]);case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),j=function(e,t){var n=e.current,r=e.daily.map((function(e){return{day:b[O(e.dt).getDay()],highC:m(e.temp.max),lowC:m(e.temp.min),highF:f(e.temp.max),lowF:f(e.temp.min),descrip:e.weather[0].description,iconSrc:x(e.weather[0].icon,!1)}}));return{daily:{location:t,time:O(n.dt),timeStr:O(n.dt).toLocaleTimeString(),day:b[O(n.dt).getDay()],tempC:m(n.temp),tempF:f(n.temp),wind:n.wind_speed,windDir:n.wind_deg,sunrise:O(n.sunrise).toLocaleTimeString(),humidity:n.humidity,descrip:n.weather[0].description,iconSrc:x(n.weather[0].icon)},sevenDay:Object(p.a)(r)}},b=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],m=function(e){return Math.floor(e-273.15)},f=function(e){return Math.floor(1.8*m(e)+32)},O=function(e){return new Date(1e3*e)},x=function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return"http://openweathermap.org/img/wn/".concat(e,t?"@4x.png":"@2x.png")},g=n(0),v=function(e){var t=e.data;e.isCelsius;return Object(g.jsxs)("div",{id:"forecast",children:[Object(g.jsxs)("div",{className:"weatherInfo",children:[Object(g.jsx)("h1",{children:t.daily.location.split(",")[0]}),Object(g.jsx)("h2",{children:t.daily.descrip}),Object(g.jsx)("h2",{children:t.daily.time.toLocaleString()})]}),Object(g.jsxs)("div",{className:"todayForecast",children:[Object(g.jsxs)("h1",{children:[t.daily.tempF,"\xb0"]}),Object(g.jsxs)("h2",{children:[t.sevenDay[0].lowF,"\xb0 / ",t.sevenDay[0].highF,"\xb0"]})]})]})},w=function(e){var t=e.wSearch,n=e.togCelsius,a=Object(r.useState)(""),c=Object(d.a)(a,2),s=c[0],i=c[1];return Object(g.jsxs)("header",{children:[Object(g.jsx)("button",{onClick:n,children:"Celsius?"}),Object(g.jsxs)("form",{onSubmit:function(e){e.preventDefault(),""!==s&&(t(s),i(""))},children:[Object(g.jsx)("input",{type:"text",value:s,onChange:function(e){return i(e.target.value)}}),Object(g.jsx)("input",{type:"submit",value:"search"})]})]})};var y=function(){var e=Object(r.useState)(null),t=Object(d.a)(e,2),n=t[0],a=t[1],c=Object(r.useState)(!0),s=Object(d.a)(c,2),i=s[0],p=s[1],h=Object(r.useState)(null),j=Object(d.a)(h,2),b=j[0],m=j[1],f=Object(r.useState)(!1),O=Object(d.a)(f,2),x=O[0],y=O[1],S=function(){var e=Object(u.a)(o.a.mark((function e(t){var n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return p(!0),m(null),e.prev=2,e.next=5,l(t);case 5:n=e.sent,e.next=13;break;case 8:return e.prev=8,e.t0=e.catch(2),m(e.t0.message),p(!1),e.abrupt("return");case 13:return e.t1=a,e.next=16,n;case 16:e.t2=e.sent,(0,e.t1)(e.t2),p(!1);case 19:case"end":return e.stop()}}),e,null,[[2,8]])})));return function(t){return e.apply(this,arguments)}}();return Object(r.useEffect)((function(){S("Minneapolis")}),[]),Object(g.jsxs)("div",{className:"App",children:[Object(g.jsx)(w,{wSearch:S,togCelsius:function(){y(!x)}}),Object(g.jsxs)("main",{children:[b&&Object(g.jsxs)("h4",{children:["Sorry... No data found, ",b]}),i&&Object(g.jsx)("h2",{children:"Loading..."}),!i&&!b&&Object(g.jsx)(v,{data:n,isCelsius:x})]})]})};s.a.render(Object(g.jsx)(a.a.StrictMode,{children:Object(g.jsx)(y,{})}),document.getElementById("root"))}},[[17,1,2]]]);
//# sourceMappingURL=main.3d06f20b.chunk.js.map